# Observer Pattern (옵저버 패턴)

어떤 객체의 상태가 바뀌면, 그 객체를 지켜보는(관찰하는) 여러 객체들에게  
자동으로 알림이 가도록 하는 패턴

## 사용 상황

- 한 객체의 변화(이벤트, 상태 변경 등)를 여러 객체가 알아야 할 때  
  (하나의 정보 변화가 여러 대상에 자동으로 퍼져야 할 때)

  - 예: 뉴스 구독, 채팅방 알림, 주식 시세 변화, GUI 버튼 클릭 등

- 객체 간 결합도를 낮추고, 확장성을 높이고 싶을 때

- 이벤트 기반 시스템, 실시간 알림 시스템 등에서 자주 사용

## 구조

```java
        +-----------------+
        |    Subject      |  (주체, 상태를 가지고 있음)
        |-----------------|
        | - observers     | <------+
        |-----------------|        |
        | + attach()      |        | 등록
        | + detach()      |        |
        | + notify()      |        |
        +-----------------+        |
                |     상태 변경      |
                v                  |
        +-----------------+        |
        | notifyObservers |-------+
                |
   +------------+------------+
   |            |            |
   v            v            v
+---------+  +---------+  +---------+
|Observer1|  |Observer2|  |Observer3|  <-- 여러 개의 옵저버
|---------|  |---------|  |---------|
|update() |  |update() |  |update() |  <-- 각각 상태 변경에 반응
+---------+  +---------+  +---------+

```

1. 옵저버 등록  
   옵저버들이 Subject에 자신을 등록(구독)함

2. 상태 변화 발생  
   Subject의 상태가 바뀜

3. 알림 전파  
   Subject가 등록된 모든 Observer에게 알림(update() 등)을 보냄

4. 옵저버 반응  
   각 Observer는 알림을 받아 자신의 방식대로 동작

### 참고

- 다른 디자인 패턴들과 다르게 일대다 의존성을 가짐

- Subject와 Observer는 느슨하게 연결되어 있음  
  (Subject는 Observer의 구체 타입을 몰라도 됨)

- 상태 변화 → 즉시 반응하는 구조

  - 실시간 시스템, 이벤트 처리, 데이터 동기화 등에 자주 쓰임

- 옵저버를 동적으로 추가/제거할 수 있음

- 옵저버 패턴은 이벤트 중심 프로그래밍과도 연결돼 있음

- 자바의 이벤트 리스너, GUI, RxJava, 스프링의 ApplicationEvent 등

- 자바에서는 Observer 인터페이스와 Observable 클래스를 예전부터 제공했지만,  
  지금은 직접 구현하는 방식이 권장됨
